define(["angular","hammer"],function(t,n){t.directive("iDrag",[function(){return{restrict:"A",scope:{notDrag:"=dragNot",isDrag:"=dragIs"},link:function(t,s){if(!t.notDrag){var r,a,e,o,i=s.get(0),l=new n(i),c=$("body").width();t.$on("$destroy",function(){l&&(l.destroy(),l=null)}),l.on("panstart",function(){r=parseFloat(s.css("left")),r||(r=c-parseFloat(s.css("right"))-s.width()),a=parseFloat(s.css("top"))}),l.on("panmove",function(t){s.css("left",0),s.css("top",0),e=r+t.deltaX,o=a+t.deltaY,i.style.webkitTransform="translate3d("+e+"px, "+o+"px, 0)",i.style.transform="translate3d("+e+"px, "+o+"px, 0)"}),l.on("panend",function(){s.css("left",e),s.css("top",o),i.style.webkitTransform="none",i.style.transform="none",s.attr("i-drag-move",!0),t.isDrag=!0})}}}}])});