<div class="iiw-system-diagnosisplan-item layout-full">
    <div ui-layout options="{dividerSize:'0'}">
        <div ui-layout-container size="65px">
            <h2 class="page-title">{{title}}</h2>
        </div>
        <div ui-layout-container class="system-diagnosisplan-item-container">
            <div class="layout-full" ui-layout options="{dividerSize:'0'}" style="padding: 15px;">
                <div ui-layout-container class="layout-full" style="padding: 15px; overflow:hidden;">
                    <div class="system-diagnosisplan-item-container-left">
                        <div class="row">
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;">
                                <label>计划名称:</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" ng-model="titleName" placeholder="计划任务名称不能为空!" class="form-control" required/>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;">
                                <label>计划状态:</label>
                            </div>
                            <div class="col-md-3">
                                <select class="form-control" ng-model="planStatus">
                                    <option value="P">启动</option>
                                    <option value="C">禁用</option>
                                </select>
                            </div>
                            <div class="col-md-2"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;">
                                <label>执行方式:</label>
                            </div>
                            <div class="col-md-3">
                                <select class="form-control" ng-model="activeType" ng-change="changActive()">
                                    <option value="cron">定时执行</option>
                                    <option value="simple">按时间段执行</option>
                                </select>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;">
                                <label>检测内容:</label>
                            </div>
                            <div class="col-md-3">
                                <select class="form-control" ng-model="indexService">
                                    <option value="{{service.id}}" ng-repeat="service in serviceList">{{service.notes}}</option>
                                </select>
                            </div>
                            <div class="col-md-2"></div>
                        </div>
                        <div class="row" ng-show="activeStatus == true">
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;">
                                <label>开始时间:</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" ng-model="startTime" safe-picker p!format="Y-m-d H:i:s" class="form-control" placeholder="任务开始时间"/>
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;">
                                <label>结束时间:</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" ng-model="endTime" safe-picker p!format="Y-m-d H:i:s" class="form-control" placeholder="任务结束时间"/>
                            </div>
                            <div class="col-md-2"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;" ng-show="activeStatus == false">
                                <label>时间规则:</label>
                            </div>
                            <div class="col-md-3" ng-show="activeStatus == false">
                                <select class="form-control" ng-model="selectTimeType" ng-options="item.id as item.name for item in timeTypeList">
                                </select>
                            </div>
                            <div class="col-md-1" style="width:90px;" ng-show="activeStatus == true">
                                <label>执行次数:</label>
                            </div>
                            <div class="col-md-3" ng-show="activeStatus == true">
                                <input type="text" ng-model="repeatTime" class="form-control"/>
                            </div>
                            <div class="col-md-1" style="width:80px;" ng-show="activeStatus == true">
                                <label>0-不限:</label>
                            </div>
                            <div class="col-md-1" ng-show="activeStatus == false">
                            </div>
                            <div class="col-md-1" style="width:90px;">
                                <label>计划等级:</label>
                            </div>
                            <div class="col-md-3">
                                <select class="form-control" ng-model="indexPlan" ng-options="plan.id as plan.name for plan in planLevelList">
                                </select>
                            </div>
                            <div class="col-md-2"></div>
                        </div>
                        <div class="row" ng-show="activeStatus == true">
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;">
                                <label>每隔:</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" ng-model="hour" class="form-control" placeholder="间隔时间（小时）"/>
                            </div>
                            <div class="col-md-1">小时</div>
                            <div class="col-md-1" style="width:90px;">
                                <label>每隔:</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" ng-model="minute" class="form-control" placeholder="间隔时间（分钟）"/>
                            </div>
                            <div class="col-md-1">分钟</div>
                            <div class="col-md-1"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-1"></div>
                            <div class="col-md-1" style="width:90px;">
                                <label>已选设备:</label>
                            </div>
                            <div ng-if="!activeStatus" class="col-md-8 left-box-1" style="overflow:hidden;">
                                <div class="left-box-header">
                                    <table class="iiw-system-table-container table" style="margin: 0;">
                                        <colgroup><col width="5%"><col width="40%"><col width="38%"><col width="15%"></colgroup>
                                        <thead>
                                            <tr>
                                                <th><input type="checkbox" ng-model="clearAll" ng-click="clearList()" style="width:20px;height:20px;"/></th>
                                                <th >设备名称</th>
                                                <th>Ip地址</th>
                                                <th>类型</th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                                <div class="cronscroll">
                                    <div style=" border:1px solid rgba(0,0,0,0.2); height: 440px;"  i-scroll2 data-load-event="nextPage()">
                                        <table class="table table-hover iiw-system-table-container" style="width:620px;">
                                            <colgroup><col width="5%"><col width="40%"><col width="38%"><col width="15%"></colgroup>
                                            <tbody>
                                                <tr ng-repeat="item in list | limitTo: listSize || 50" ng-click="selectA(item)" ng-class="{'select':item.checked}">
                                                    <td><input type="checkbox" ng-model="item.checked" style="width:20px;height:20px;"/></td>
                                                    <td>{{item.name}}</td>
                                                    <td>{{item.ip}}</td>
                                                    <td>{{item.typename}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="activeStatus" class="col-md-8 left-box-2">
                                <div class="left-box-header">
                                    <table class="iiw-system-table-container table" style="margin: 0;">
                                        <colgroup><col width="5%"><col width="40%"><col width="38%"><col width="15%"></colgroup>
                                        <thead>
                                        <tr>
                                            <th><input type="checkbox" style="width:20px;height:20px;"/></th>
                                            <th >设备名称</th>
                                            <th>Ip地址</th>
                                            <th>类型</th>
                                        </tr>
                                        </thead>
                                    </table>
                                </div>
                                <div class="simplescroll">
                                    <div style=" border:1px solid rgba(0,0,0,0.2); height: 320px;"  i-scroll2 data-load-event="nextPage()">
                                        <table class="table table-hover iiw-system-table-container" style="width:620px;">
                                            <colgroup><col width="5%"><col width="40%"><col width="38%"><col width="15%"></colgroup>
                                            <tbody>
                                                <tr ng-repeat="item in list | limitTo: listSize || 50" ng-click="selectA(item)" ng-class="{'select':item.checked}">
                                                    <td><input type="checkbox" ng-model="item.checked" style="width:20px;height:20px;"/></td>
                                                    <td>{{item.name}}</td>
                                                    <td>{{item.ip}}</td>
                                                    <td>{{item.typename}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2"></div>
                        </div>
                    </div>
                    <div class="system-diagnosisplan-item-container-right">
                        <div class="system-diagnosisplan-item-container-right-content">
                            <div class="system-diagnosisplan-item-container-right-select pull-left">
                                <label class="control-label">设备类型:</label>
                                <select ng-model="deviceType" ng-change="changeDevice()">
                                    <option value="">所有类型</option>
                                    <option value="{{type.content}}" ng-repeat="type in deviceTypeList">{{type.name}}</option>
                                </select>
                             </div>
                            <button type="button" class="btn btn-success" ng-click="selectAllDevice()" style="margin-top: 6px;margin-left:9px;">选择所有设备</button>
                            <div class="input-group pull-right" style="width:250px; margin-top:5px;margin-right:7px;">
                                <input type="text" class="form-control" ng-model="filterValue" placeholder="输入编号过滤"/>
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" ng-click="changeDevice()">查询</button>
                                </span>
                            </div>
                        </div>
                        <div class="right-box-header">
                            <table class="iiw-system-table-container table" style="margin: 0;">
                                <colgroup><col width="5%"><col width="37%"><col width="38%"><col width="30%"></colgroup>
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" style="width:20px;height:20px;" ng-model="selAll" ng-click="selectAll()"/></th>
                                        <th>设备名称</th>
                                        <th>ip地址</th>
                                        <th>类型</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                        <div class="right-box-content">
                            <div class="layout-full" style="border:1px solid rgba(0,0,0,0.2);height:90%;">
                                <table class="table table-hover iiw-system-table-container">
                                    <colgroup><col width="5%"><col width="37%"><col width="38%"><col width="30%"></colgroup>
                                    <tbody>
                                        <tr ng-repeat="item in deviceList" ng-click="select(item)" ng-class="{'select':item.checked}" >
                                            <td><input type="checkbox" ng-model="item.checked" style="width:20px;height:20px;"/></td>
                                            <td>{{item.name}}</td>
                                            <td>{{item.ip}}</td>
                                            <td>{{item.typename}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div style="height:50px;background-color:rgba(0,0,0,0.3);width:100%;">
                                <!--<label class="col-lg-3" style="height:40px;line-height:40px;padding-top:4px;">统计信息： 每页{{diagnosisplan.pageSize}}行， 共{{diagnosisplan.totalSize||0}}行， 共{{diagnosisplan.totalPage||0}}页</label>-->
                                <uib-pagination style="margin: 5px;" class="pagination pull-right" direction-links="true" boundary-links="true" boundary-link-numbers="true" rotate="false" total-items="totalSize" ng-model="currentPage" ng-change="change()" items-per-page="pageSize" max-size="5" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination>
                            </div>
                        </div>
                    </div>
                </div>
                <div ui-layout-container size="47px" class="iiw-system-diagnosisplan-item-content" style="padding: 4px;">
                    <div class="pull-right">
                        <button type="button" ng-click="save()" ng-disabled="titleName == ''" class="btn btn-success" style="width:80px;">保存</button>
                        <button type="button" ng-click="back()" class="btn btn-danger" style="width:80px;">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>