<div class="iiw-system-diagnosisplan-container" ui-view>
    <div class="stretch ui-layout-column" ui-layout="{ flow: 'column'}" options="{dividerSize:'0'}">
        <div class="ui-layout-row" ui-layout="{ flow: 'row'}" options="{dividerSize:'0'}">
            <div ui-layout-container class="ui-layout-container iiw-system-module-title-container" size="60px">
                <h2 class="page-title">{{title}}</h2>
            </div>
            <div ui-layout-container class="layout-full">
                <div ui-layout options="{dividerSize:'0'}" class="iiw-system-diagnosisplan-content">
                    <div ui-layout-container size="50px" class="iiw-system-diagnosisplan-header">
                        <div class="pull-left">
                            <button type="button" ng-click="diagnosisplan.add()" class="btn btn-success"><i class="fa fa-plus fa-fw"></i>添加</button>
                            <button type="button" ng-click="diagnosisplan.mod()" class="btn btn-warning"><i class="fa fa-edit fa-fw"></i>修改</button>
                            <button type="button" ng-click="diagnosisplan.del()" class="btn btn-danger"><i class="fa fa-minus fa-fw"></i>删除</button>
                        </div>
                        <div class="input-group pull-right" style="width:250px;">
                            <input type="text" class="form-control" ng-model="diagnosisplan.filterValue" placeholder="输入编号过滤"/>
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button" ng-click="getList()">查询</button>
                                </span>
                        </div>
                    </div>
                    <div ui-layout-container class="iiw-system-diagnosisplan-table">
                        <div class="layout-full" style=" border:1px solid rgba(0,0,0,0.2);">
                            <table class="table table-hover iiw-system-table-container" >
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" style="width:20px;height: 20px;" ng-model="diagnosisplan.aSelectAll" ng-click="selectAll()"/></th>
                                        <th>计划名称</th>
                                        <th>检测内容</th>
                                        <th>执行方式</th>
                                        <th>执行时间</th>
                                        <th>状态</th>
                                        <th>关联设备</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in diagnosisplan.list" ng-class="{'select': item.checked}" ng-click="diagnosisplan.click(item, $event)">
                                        <td><input type="checkbox" style="width:20px;height: 20px;" ng-model="item.checked"/></td>
                                        <td>{{item.title}}</td>
                                        <td>{{item.servicename}}</td>
                                        <td ng-if="item.tktype == 'cron'">定时执行</td>
                                        <td ng-if="item.tktype == 'simple'">按时间段执行</td>
                                        <td>{{item.time}}</td>
                                        <td ng-if="item.status == 'P'">启动</td>
                                        <td ng-if="item.status == 'C'">禁用</td>
                                        <td><button type="button" class="btn btn-success" ng-click="diagnosisplan.showTable(item)">查看</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div ui-layout-container class="role-container-foot" size="49px" style="background-color: rgba(0,0,0,0.3);">
                        <label class="col-lg-3" style="height:40px;line-height:40px;padding-top:4px;">统计信息： 每页{{diagnosisplan.pageSize}}行， 共{{diagnosisplan.totalSize||0}}行， 共{{diagnosisplan.totalPage||0}}页</label>
                        <uib-pagination style="margin: 5px;" class="pagination pull-right" direction-links="true" boundary-links="true" boundary-link-numbers="true" rotate="false" total-items="diagnosisplan.totalSize" ng-model="diagnosisplan.currentPage" ng-change="diagnosisplan.change()" items-per-page="diagnosisplan.pageSize" max-size="10" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>