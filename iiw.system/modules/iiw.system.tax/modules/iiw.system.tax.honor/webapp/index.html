<div class="system-tax-honor layout-full">
    <div ui-layout="{ flow: 'row'}" options="{dividerSize:'0'}" class="system-tax-honor-container">
        <div ui-layout-container size="60px" style="overflow:hidden;">
            <h2 class="page-title">{{title}}</h2>
        </div>
        <div ui-layout-container style="overflow:hidden;">
            <div ui-layout="{ flow: 'row'}" options="{dividerSize:'0'}" style="background-color: rgba(0,0,0,0.3);">
                <div class="system-tax-honor-header" ui-layout-container size="54px">
                    <button class="btn btn-success" ng-disabled="savetype == 'mod'" ng-click="systemTaxHonor.add()"><i class="fa fa-plus"></i>添加</button>
                    <div class="input-group pull-right" style="width: 250px;">
                        <!--<input type="text" class="form-control" onfocus="this.blur()" safe-picker p!timepicker="false" p!format="Y-m" ng-change="systemTaxHonor.getList()" ng-model="systemTaxHonor.filterValue">-->
                        <label for="" style="font-size: 16px;line-height: 39px;float:left;margin-right:5px;">月份：</label>
                        <select class="form-control" style="width: 190px;" ng-model="tempmonth" ng-change="systemTaxHonor.getList('month')">
                            <option value="{{item.data}}" ng-repeat="item in monthList">{{item.data}}</option>
                        </select>
                    </div>
                    <div class="input-group pull-right" style="width: 250px;">
                        <label for="" style="font-size: 16px;line-height: 39px;float:left;margin-right:5px;">年份：</label>
                        <select class="form-control" style="width: 190px;" ng-model="tempyear" ng-change="systemTaxHonor.getList('year')">
                            <option value="{{item.data}}" ng-repeat="item in timeList">{{item.data}}</option>
                        </select>
                    </div>
                </div>
                <div class="system-tax-honor-main" ui-layout-container>
                    <div class="layout-full">
                        <div class="row">
                            <div class="col-md-3" ng-repeat="item in systemTaxHonor.list" style="height: 525px;padding-bottom: 5px;">
                                <div class="thumbnail layout-full" style="background: rgba(0,0,0,0.3);">
                                    <div>
                                        <img src="{{item.image}}" style="height: 280px;width: 100%;">
                                    </div>
                                    <div class="caption">
                                        <h3>
                                            <div ng-if="item.status != 'add' && item.status != 'mod'">{{item.title}}</div>
                                            <div ng-if="item.status == 'add' || item.status == 'mod'">
                                                <input class="form-control" ng-class="{'inputBorderInvalid': item.title == ''}" placeholder="请输入标题!" type="text" ng-model="item.title"/>
                                            </div>
                                        </h3>
                                        <p>
                                            <div ng-if="item.status != 'add' && item.status != 'mod'">{{item.content}}</div>
                                            <div ng-if="item.status == 'add' || item.status == 'mod'">
                                                <input class="form-control" ng-class="{'inputBorderInvalid': item.content == ''}" placeholder="请输入内容!" type="text" ng-model="item.content"/>
                                            </div>
                                        </p>
                                        <p>
                                            <div ng-if="item.status != 'add' && item.status != 'mod'">{{item.rq}}</div>
                                            <div ng-if="item.status == 'add' || item.status == 'mod'">
                                                <input class="form-control" ng-class="{'inputBorderInvalid': item.rq == ''}" type="text" ng-model="item.rq" safe-picker p!format="Y-m-d H:m:s"/>
                                            </div>
                                        </p>
                                        <p>
                                            <button class="btn btn-primary" ng-if="item.status == 'add' || item.status == 'mod'" ng-click="systemTaxHonor.uploadPhoto($index)">上传图片</button>
                                            <button class="btn btn-warning" ng-click="systemTaxHonor.mod(item)">修改</button>
                                            <button class="btn btn-danger" ng-click="systemTaxHonor.del(item)">删除</button>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input id="taxHonorUploadPhoto" onchange="angular.element(this).scope().systemTaxHonor.uploadPhotoEvent()" accept="image/*" type="file" style="display: none;"/>
                </div>
                <div class="system-tax-honor-footer" ui-layout-container size="60px">
                    <button class="btn btn-danger pull-right" ng-disabled="savetype == ''" ng-click="systemTaxHonor.cancle()">取消</button>
                    <button class="btn btn-success pull-right" ng-disabled="savetype == ''" style="margin-right: 5px;" ng-click="systemTaxHonor.save()">保存</button>
                </div>

            </div>
        </div>
    </div>
    <div safe-viewer style="width:0;height: 0;overflow:hidden;">
        <img data-original="{{photoPath}}" ng-src="{{photoPath}}" id="taxHonorPhotoDialog"/>
    </div>
</div>