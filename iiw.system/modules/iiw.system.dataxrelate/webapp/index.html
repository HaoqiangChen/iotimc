<div class="iiw-system-page-container">
    <div class="stretch ui-layout-column" ui-layout="{ flow: 'column'}" options="{dividerSize:'0'}">
        <div class="ui-layout-row" ui-layout="{ flow: 'row'}" options="{dividerSize:'0'}">
            <div class="ui-layout-container iiw-system-module-title-container" size="60px" ui-layout-container>
                <h2 class="page-title">{{dataxrelate.title}}</h2>
            </div>
            <div class="ui-layout-container" ui-layout-container>
                <div class="widget layout-full" ui-view>
                    <div class="ui-layout-row" ui-layout="{ flow: 'row'}" options="{dividerSize:'0'}">
                        <div class="widget-header ui-layout-container" size="60px" ui-layout-container>
                            <div class="iiw-system-menu-bar-container" ng-style="{'width': '25%'}">
                                <a class="btn btn-s-md btn-primary" ng-click="dataxrelate.config()">
                                    <i class="fa fa-cog"></i>配置关联</a>
                            </div>
                            <div class="iiw-system-search-bar-container" ng-style="{'width': '75%'}">
                                <label>状态：</label>
                                <select ng-model="dataxrelate.listFilter.statusbind" ng-change="dataxrelate.filterDatax()"
                                        class="iiw-system-dataxrelate-type-select-container">
                                    <option value="" selected>所有状态</option>
                                    <option value="N">未关联</option>
                                    <option value="Y">已关联</option>
                                </select>
                                <label class="pull-right">
                                    <input type="text" ng-model="dataxrelate.listFilter.searchText"
                                           placeholder=""
                                           ng-change="dataxrelate.search()"/>
                                </label>
                            </div>
                        </div>
                        <div class="widget-content ui-layout-container" i-scroll ui-layout-container>
                            <div class="layout-full" style="position:relative;">
                                <table class="table iiw-system-table-container">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>编号</th>
                                        <th>名称</th>
                                        <th>ID</th>
                                        <th>关联状态</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in dataxrelate.list"
                                        ng-class="{true:'iiw-system-table-container-row-selected',false:''}[row.checked]"
                                        ng-click="dataxrelate.chooseRow(row)">
                                        <td>{{$index+1}}</td>
                                        <td>{{row.code}}</td>
                                        <td>{{row.name}}</td>
                                        <td>{{row.id}}</td>
                                        <td>
                                            <span>{{row.statusbind == 'Y' ? '已关联' : '未关联'}}</span>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <div class="iiw-system-table-row-select"
                                     style="display:none;background:rgba(255,255,255,0.5);width:100%;height:40px;position:absolute;"></div>
                            </div>
                        </div>
                        <div class="pagination ui-layout-container pagination-layout-container" size="60px"
                             ui-layout-container>
                            <div class="iiw-system-dataxrelate-count-message">
                                <div>
                                    共<span>{{dataxrelate.countInfo.totalSize}}</span>条记录，已关联<span>{{dataxrelate.countInfo.yes}}</span>条，未关联<span>{{dataxrelate.countInfo.no}}</span>条
                                </div>
                            </div>
                            <uib-pagination boundary-links="true" first-text="&laquo;" last-text="&raquo;"
                                            class="pagination pull-right" total-items="dataxrelate.totalSize"
                                            ng-model="dataxrelate.currentPage"
                                            ng-change="dataxrelate.pageChanged()" items-per-page="dataxrelate.pageSize"
                                            previous-text="上一页"
                                            next-text="下一页" max-size="5"></uib-pagination>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>