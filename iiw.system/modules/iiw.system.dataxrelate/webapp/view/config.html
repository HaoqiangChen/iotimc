<div class="iiw-system-page-container">
	<div class="stretch ui-layout-column" ui-layout="{ flow: 'column'}" options="{dividerSize:'0'}">
		<div class="ui-layout-row" ui-layout="{ flow: 'row'}" options="{dividerSize:'0'}">
			<div class="ui-layout-container iiw-system-dataxrelate-related-header-container" size="300px"
				 ui-layout-container>
				<div class="pull-left iiw-system-dataxrelate-main-related-container">
					<div class="iiw-system-dataxrelate-main-related-header">
						<div class="layout-full iiw-system-dataxrelate-main-related-header-title">
							<i class="fa fa-fw fa-circle"></i>datax图表主题(<span>{{dataxrelate.mainDatax.length}}</span>)
							<a class="pull-right" ng-click="dataxrelate.cleanmainDatax()"> <i
									class="fa fa-recycle"></i>清空 </a>
						</div>
					</div>
					<div class="iiw-system-dataxrelate-main-related-content">
						<div class="iiw-system-dataxrelate-main-related-body" i-scroll>
							<div>
								<a ng-repeat="datax in dataxrelate.mainDatax" title="点击移除"
								   class="iiw-system-dataxrelate-main-item text-center"
								   ng-click="dataxrelate.removemainDatax(datax)">
									<system-datax-icon type="{{datax.type}}"></system-datax-icon>
									<span class="iiw-system-dataxrelate-main-item-label">{{datax.name}}</span> </a>
							</div>
						</div>
					</div>
				</div>
				<div class="pull-left iiw-system-dataxrelate-main-related-container">
					<div class="iiw-system-dataxrelate-main-related-header">
						<div class="layout-full iiw-system-dataxrelate-main-related-header-title">
							<i class="fa fa-fw fa-circle"></i>用户图表主题(<span>{{dataxrelate.relateDatax.length}}</span>)
							<a class="pull-right" ng-click="dataxrelate.cleanrelateDatax()"> <i
									class="fa fa-recycle"></i>清空 </a>
						</div>
					</div>
					<div class="iiw-system-dataxrelate-main-related-content">
						<div class="iiw-system-dataxrelate-main-related-body" i-scroll>
							<div ui-sortable="{cursor:'move'}" ng-model="dataxrelate.relateDatax">
								<a ng-repeat="datax in dataxrelate.relateDatax" title="点击移除"
								   class="iiw-system-dataxrelate-main-item text-center"
								   ng-click="dataxrelate.removerelateDatax(datax)">
									<system-datax-icon type="{{datax.type}}"></system-datax-icon>
									<span class="iiw-system-dataxrelate-main-item-label">{{datax.name}}</span> </a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="ui-layout-container iiw-system-dataxrelate-layout-container" ui-layout-container>
				<div class="pull-left iiw-system-dataxrelate-main-related-container">
					<div class="ui-layout-row" ui-layout="{ flow: 'row'}" options="{dividerSize:'0'}">
						<div class="ui-layout-container iiw-system-dataxrelate-main-related-filter-header"
							 size="60px" ui-layout-container>
							<div class="row layout-full" style="margin:0;">
								<div class="col-md-6 text-left iiw-system-dataxrelate-main-related-col">
									<select ng-model="dataxrelate.mainFilter.statusbind"
											ng-change="dataxrelate.filtermainDatax()"
											class="iiw-system-dataxrelate-type-select-container">
										<option value="" selected>所有状态</option>
										<option value="N">未关联</option>
										<option value="Y">已关联</option>
									</select>
								</div>
								<div class="col-md-6 text-right iiw-system-dataxrelate-main-related-col">
									<input type="text" ng-model="dataxrelate.mainFilter.searchText"
										   placeholder="" style="height: 40px;"
										   ng-change="dataxrelate.searchDatax('main')"/>
								</div>
							</div>
						</div>
						<div class="ui-layout-container iiw-system-dataxrelate-main-related-table-container"
							 ui-layout-container>
							<div class="layout-full iiw-system-dataxrelate-main-related-table-body" i-scroll>
								<div>
									<table class="table iiw-system-table-container">
										<thead>
										<tr>
											<th class="iiw-system-table-header-container">
												<!--												<input id="checkAllMain" type="checkbox"-->
												<!--												       ng-model="dataxrelate.mainFilter.selectMainAll"-->
												<!--												       ng-change="dataxrelate.selAllMainService()">-->
												#
											</th>
											<th>名称</th>
											<th>编号</th>
											<th>ID</th>
											<th>是否关联</th>
										</tr>
										</thead>
										<tbody>
										<tr ng-repeat="row in dataxrelate.mainDataxList"
											ng-click="dataxrelate.addDatax(row,'main')">
											<td class="iiw-system-table-header-container">
												<system-row-check ng-model="row.checked"
																  class="rowCheck"></system-row-check>
											</td>
											<td class="hidden-xs">{{row.name}}</td>
											<td class="hidden-xs">{{row.code}}</td>
											<td class="hidden-xs">{{row.id}}</td>
											<td class="">{{row.statusbind == 'Y' ? '已关联' : '未关联'}}</td>
										</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<div class="pagination ui-layout-container pagination-layout-container" size="60px"
							 ui-layout-container>
							<uib-pagination boundary-links="true" first-text="&laquo;" last-text="&raquo;"
											class="pagination pull-right" total-items="dataxrelate.mainTotalSize"
											ng-model="dataxrelate.mainCurrentPage"
											ng-change="dataxrelate.pageOnChanged('main')"
											items-per-page="dataxrelate.mainPageSize" previous-text="上一页"
											next-text="下一页"
											max-size="5"></uib-pagination>
						</div>
					</div>
				</div>
				<div class="pull-left iiw-system-dataxrelate-main-related-container">
					<div class="ui-layout-row" ui-layout="{ flow: 'row'}" options="{dividerSize:'0'}">
						<div class="ui-layout-container iiw-system-dataxrelate-main-related-filter-header"
							 size="60px" ui-layout-container>
							<div class="row layout-full" style="margin:0;">
								<div class="col-md-6"></div>
								<div class="col-md-6 text-right iiw-system-dataxrelate-main-related-col">
									<input type="text" ng-model="dataxrelate.relatedFilter.searchText"
										   placeholder="" style="height: 40px;"
										   ng-change="dataxrelate.searchDatax('relate')"/>
								</div>
							</div>
						</div>
						<div class="ui-layout-container iiw-system-dataxrelate-main-related-table-container"
							 ui-layout-container>
							<div class="layout-full iiw-system-dataxrelate-main-related-table-body" i-scroll>
								<div>
									<table class="table iiw-system-table-container">
										<thead>
										<tr>
											<th class="iiw-system-table-header-container">
												<input id="checkAllRelate" type="checkbox"
													   ng-model="dataxrelate.relatedFilter.selectRelateAll"
													   ng-change="dataxrelate.selAllRelateService()">
											</th>
											<th>名称</th>
											<th>编号</th>
											<th>ID</th>
										</tr>
										</thead>
										<tbody>
										<tr ng-repeat="row in dataxrelate.relateDataxList"
											ng-click="dataxrelate.addDatax(row,'relate')">
											<td class="iiw-system-table-header-container">
												<system-row-check ng-model="row.checked"
																  class="rowCheck"></system-row-check>
											</td>
											<td class="hidden-xs">{{row.name}}</td>
											<td class="hidden-xs">{{row.code}}</td>
											<td class="hidden-xs">{{row.id}}</td>
										</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<div class="pagination ui-layout-container pagination-layout-container" size="60px"
							 ui-layout-container>
							<uib-pagination boundary-links="true" first-text="&laquo;" last-text="&raquo;"
											class="pagination pull-right" total-items="dataxrelate.relateTotalSize"
											ng-model="dataxrelate.relateCurrentPage"
											ng-change="dataxrelate.pageOnChanged('relate')"
											items-per-page="dataxrelate.relatePageSize" previous-text="上一页"
											next-text="下一页"
											max-size="5"></uib-pagination>
						</div>
					</div>
				</div>
			</div>
			<div class="ui-layout-container iiw-system-dataxrelate-button-container" size="60px" ui-layout-container>
				<button class="btn btn-s-md btn-success" type="button" ng-click="dataxrelate.save()"
						ng-disabled="mainDatax.length == 0">保 存
				</button>
				<button class="btn btn-s-md btn-danger" type="button" ng-click="dataxrelate.back()">返 回</button>
			</div>
		</div>
	</div>
</div>