<div class="iiw-system-stoppageLevel" ui-view>
    <div ui-layout="{ flow: 'column'}" options="{dividerSize: '0'}">
        <div ui-layout="{ flow: 'row'}" options="{dividerSize: '0'}">
            <div ui-layout-container size="65px">
                <h2 class="page-title">{{level.title}}</h2>
            </div>
            <div class="iiw-system-stoppageLevel-container" ui-layout-container>
                <div ui-layout="{ flow: 'row'}" options="{dividerSize: '0'}">
                    <div class="iiw-system-title" ui-layout-container size="47px">
                        <button class="btn btn-success" ng-click="level.goHistory()">历史记录</button>
                    </div>
                    <div class="iiw-system-stoppageLevel-container-body" ui-layout-container>
                        <div class="iiw-system-stoppageLevel-container-body-content" ng-form="list">

                            <div class="level" ng-repeat="rows in level.list">
                                <div class="close" ng-click="level.close(rows.id, $index)"><i class="fa fa-close"></i></div>
                                <div class="col-lg-4">
                                    <div class="col-lg-12">名称</div>
                                    <div class="col-lg-12" style="position: relative">
                                        <input type="text" class="form-control" ng-model="rows.name" required/>
                                        <span ng-if="!rows.name" ng-style="{'position': 'absolute', 'right': '0px', 'top': '0', 'color': 'red', 'font-size': '18px', 'line-height': '40px'}">*</span>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <div class="col-lg-12">预定完成时间</div>
                                    <div class="col-lg-12 time"  style="position: relative">
                                        <input type="text" class="form-control" ng-model="rows.day" onkeyup="this.value=this.value.replace(/\D/g, '')" required/>
                                        <span>天</span>
                                        <input type="text" class="form-control" ng-model="rows.time" onkeyup="this.value=(this.value.replace(/\D/g, '') > 23 ? 23 : this.value.replace(/\D/g, ''))" required/>
                                        <span>时</span>
                                        <input type="text" class="form-control" ng-model="rows.minute" onkeyup="this.value=(this.value.replace(/\D/g, '') > 59 ? 59 : this.value.replace(/\D/g, ''))" required/>
                                        <span>分</span>
                                        <span ng-if="!(rows.day && rows.time && rows.minute)" ng-style="{'position': 'absolute', 'right': '10%', 'top': '0', 'color': 'red', 'font-size': '18px', 'width': '10px'}">*</span>
                                    </div>
                                </div>

                                <div class="col-lg-2">
                                    <div class="col-lg-12">警示颜色</div>
                                    <div class="col-lg-12">
                                        <div class="iiw-system-stoppageLevel-color" system-big-color index="{{$index}}" ng-style="{'background-color': rows.type}" id="testColor">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div title="添加" class="level" ng-style="{'background-color': 'rgba(0,0,0,0)'}">
                                <div class="add" ng-click="level.add()">
                                    <i class="fa fa-plus"></i>
                                </div>
                            </div>



                        </div>
                    </div>

                    <div class="iiw-system-title text-right" ui-layout-container size="47px">
                        <button class="btn btn-success" ng-click="level.submit()" ng-disabled="list.$invalid">提交</button>
                        <button class="btn btn-danger" ng-click="getList()">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>