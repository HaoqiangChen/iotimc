<div class="widget-header">
    <span>添加地址映射</span>
</div>
<div class="widget-content">
    <form method="post" class="form-horizontal" id="mappingform" name="mappingform" novalidate>
        <fieldset>
            <div class="control-group">
                <div class="col-md-3">
                    <label class="control-label">映射类型</label>
                </div>
                <div class="col-md-7">
                    <div class="form-group">
                        <select ng-model="mappingItem.type" name="mapping_type" id="mapping_type" ng-options="type.name as type.name for type in types" style="width: 100%;"></select>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <div class="col-md-3">
                    <label class="control-label">源地址</label>
                </div>
                <div class="col-md-7">
                    <div class="form-group">
                        <input type="text" ng-model="mappingItem.srcaddress" placeholder="输入源地址（即iotimc-config.xml中配置address地址如192.168.0.251）" class="form-control" id="mapping_src" name="mapping_src" required maxlength="15" ng-pattern="/^(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)){2}(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)|(\*\.))(?:(?:1[0-9][0-9])|(?:2[0-4][0-9])|(?:25[0-5])|(?:[1-9][0-9])|(?:[0-9])|\*)$/" />
                    </div>
                </div>
                <div class="col-md-2">
                    <lable ng-show="mappingform.mapping_src.$invalid" style="color:red;">*请输入正确地址</lable>
                </div>
            </div>
            <div class="control-group">
                <div class="col-md-3">
                    <label class="control-label">映射地址</label>
                </div>
                <div class="col-md-7">
                    <div class="form-group">
                        <input type="text" ng-model="mappingItem.mappingadd" placeholder="输入映射地址（即外网映射出去的IP地址,如10.43.10.2）" class="form-control" required id="mapping_mapper" name="mapping_mapper" maxlength="15" ng-pattern="/^(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)){2}(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)|(\*\.))(?:(?:1[0-9][0-9])|(?:2[0-4][0-9])|(?:25[0-5])|(?:[1-9][0-9])|(?:[0-9])|\*)$/" />
                    </div>
                </div>
                <div class="col-md-2">
                    <lable ng-show="mappingform.mapping_mapper.$invalid" style="color:red;">*请输入正确地址</lable>
                </div>
            </div>
            <div class="control-group">
                <div class="col-md-3">
                    <label class="control-label">请求地址</label>
                </div>
                <div class="col-md-7">
                    <div class="form-group">
                        <input type="text" ng-model="mappingItem.reqaddress" placeholder="输入请求地址（即google浏览器访问输入地址（10.43.*.*）或域名），理论上跟映射地址一致" class="form-control" id="mapping_request" name="mapping_request" required maxlength="15" ng-pattern="/^(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)){2}(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)|(\*\.))(?:(?:1[0-9][0-9])|(?:2[0-4][0-9])|(?:25[0-5])|(?:[1-9][0-9])|(?:[0-9])|\*)$/" />
                    </div>
                </div>
                <div class="col-md-2">
                    <lable ng-show="mappingform.mapping_request.$invalid" style="color:red;">*请输入正确地址</lable>
                </div>
            </div>
            <div class="control-group">
                <div class="col-md-12">
                    <label class="control-label">提交成功后，请通过浏览器访问此地址（此地址为外网地址）：http://xx:xx/icorecfg/addressmapping/reload</label>
                </div>
            </div>
        </fieldset>
        <div class="form-actions">
            <div>
                <button class="btn btn-s-md btn-primary" type="button" ng-click="save()" ng-disabled="mappingform.$invalid">保     存</button>
                <button class="btn btn-s-md btn-default" type="button" ng-click="back()">返     回</button>
            </div>
        </div>
    </form>
</div>