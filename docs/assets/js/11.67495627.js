(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{340:function(e,t,_){"use strict";_.r(t);var v=_(12),a=Object(v.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"大数据平台"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#大数据平台"}},[e._v("#")]),e._v(" 大数据平台")]),e._v(" "),_("p",[e._v("公司大数据平台主要用angularjs + echarts + less")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("echarts")]),e._v(" "),_("a",{attrs:{href:"https://www.echartsjs.com/zh/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.echartsjs.com/zh/index.html"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("code",[e._v("echarts API")]),e._v(" "),_("a",{attrs:{href:"https://www.echartsjs.com/zh/api.html#echarts",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.echartsjs.com/zh/api.html#echarts"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("code",[e._v("echarts 官方实例")]),e._v(" "),_("a",{attrs:{href:"https://www.echartsjs.com/examples/zh/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.echartsjs.com/examples/zh/index.html"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("code",[e._v("less 中文文档")]),e._v(" "),_("a",{attrs:{href:"https://less.bootcss.com/tools/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://less.bootcss.com/tools/"),_("OutboundLink")],1)])]),e._v(" "),_("p",[_("img",{attrs:{src:"/iotimc/chart.png",alt:"大数据平台"}})]),e._v(" "),_("h2",{attrs:{id:"新建大数据平台模块"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#新建大数据平台模块"}},[e._v("#")]),e._v(" 新建大数据平台模块")]),e._v(" "),_("ol",[_("li",[e._v("首先在"),_("code",[e._v("iiw.safe.datavisual")]),e._v(" 仿照着其他子模块新建个子模块，注意命名，比如"),_("code",[e._v("iiw.safe.datavisual.jxjyj")])]),e._v(" "),_("li",[e._v("在"),_("code",[e._v("iiw.safe.plugins")]),e._v(" 仿照着其他子模块新建个子模块，注意命名，比如"),_("code",[e._v("iiw.safe.plugins.jxjyj")])]),e._v(" "),_("li",[e._v('登陆后台管理，新增或者修改 菜单 "大数据中心"，并且将路径配置好为 前两步新建的模块名\n'),_("img",{attrs:{src:"/iotimc/datavisual-1.png",alt:"大数据中心"}})]),e._v(" "),_("li",[e._v("进行代码修改开发，其中几个注意点")])]),e._v(" "),_("p",[_("strong",[e._v("loading")])]),e._v(" "),_("ul",[_("li",[e._v("0%       初始化")]),e._v(" "),_("li",[e._v("20%      safeMainControllerOnEvent")]),e._v(" "),_("li",[e._v("40%      defaultStateChangeSuccess")]),e._v(" "),_("li",[e._v("60%      loadingAnimationSucccess")]),e._v(" "),_("li",[e._v("80%      mapLoadingSuccess")]),e._v(" "),_("li",[e._v("100%     chartsLoadingSuccess\n分别对应地图和图表等，开发前可以先注释掉地图和图表"),_("code",[e._v("directives")]),e._v("，先将loading效果先注释掉进行主页面开发")])]),e._v(" "),_("h3",{attrs:{id:"大数据图表开发"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#大数据图表开发"}},[e._v("#")]),e._v(" 大数据图表开发")]),e._v(" "),_("ol",[_("li",[_("p",[e._v("首先查看平台是否有"),_("code",[e._v("bi 智能图表系统")]),e._v("，有的话方便很多，一般对应两个接口"),_("code",[e._v("getDatatheme")]),e._v("或者"),_("code",[e._v("getDataxTheme")]),e._v(" "),_("img",{attrs:{src:"/iotimc/datavisual-bi.png",alt:"bi 智能图表系统"}})])]),e._v(" "),_("li",[_("p",[e._v("如果没有"),_("code",[e._v("bi 智能图表系统")]),e._v("，那么就麻烦多了，只能在数据库配置，一般对应接口是"),_("code",[e._v("getBindDataTheme")])]),e._v(" "),_("ul",[_("li",[_("code",[e._v("DATAX_SETTING_DATATHEME")]),e._v("这张表为"),_("code",[e._v("bi")]),e._v("账户配置主题")]),e._v(" "),_("li",[_("code",[e._v("SECTY_SCMP_DATATHEME")]),e._v("这张表配置主题")]),e._v(" "),_("li",[_("code",[e._v("SECTY_SCMP_DATAGRAPH")]),e._v("这张表配置数据主题下的图表")]),e._v(" "),_("li",[_("code",[e._v("SECTY_SCMP_DATATHEMEBIND")]),e._v("这张表配置用户有哪些主题")])])]),e._v(" "),_("li",[_("p",[e._v("步骤")]),e._v(" "),_("ul",[_("li",[e._v("首先打开数据表 "),_("code",[e._v("syuser")]),e._v("，过滤"),_("code",[e._v("code = 'zhzx'")]),e._v("，复制查到的数据"),_("code",[e._v("id")])]),e._v(" "),_("li",[e._v("数据表"),_("code",[e._v("datathemebind")]),e._v(" => "),_("code",[e._v("value = '180288CBE46244B2965E0514765F5245'")]),e._v(" => 复制"),_("code",[e._v("datathemefk")])]),e._v(" "),_("li",[e._v("数据表"),_("code",[e._v("datatheme")]),e._v(" => "),_("code",[e._v("id = '14637B8A9B724739ADD910131B5E357D'")]),e._v(" => 复制"),_("code",[e._v("id")])]),e._v(" "),_("li",[e._v("数据表"),_("code",[e._v("datathemepath")]),e._v(" => "),_("code",[e._v("datathemefk = '14637B8A9B724739ADD910131B5E357D'")]),e._v(" => 就OK了，复制修改你所想修改的")])])]),e._v(" "),_("li",[_("p",[e._v("一般都是仿照"),_("code",[e._v("iiw.safe.plugins.gxdsj")]),e._v("里的"),_("code",[e._v("/directives/chart/safeGxdsjChart")]),e._v("弄多个对应的，然后对应的"),_("code",[e._v("chart.css")]),e._v("会是这个大数据图表所有图表的初始化样式。")])]),e._v(" "),_("li",[_("p",[e._v("接着按照需求进行图表开发即可。")])])]),e._v(" "),_("div",{staticClass:"custom-block danger"},[_("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),_("p",[e._v("图表命名切记是小数点"),_("code",[e._v(".")]),e._v("拼接，而不是横杆"),_("code",[e._v("-")]),e._v("："),_("code",[e._v("gxdsj.prison.map")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);