(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{392:function(t,a,e){"use strict";e.r(a);var r=e(19),_=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#app"}},[t._v("#")]),t._v(" APP")]),t._v(" "),e("h2",{attrs:{id:"问卷调查app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问卷调查app"}},[t._v("#")]),t._v(" 问卷调查APP")]),t._v(" "),e("p",[e("img",{attrs:{src:"/iotimc/app-wenjuan.png",alt:"问卷调查APP"}})]),t._v(" "),e("p",[t._v("主要功能是用于做问卷调查的一个APP里的一个页面。"),e("br"),t._v("\nAPP是曾于伟那边开发，然后我这边使用 vue框架架构了一个脚手架开发的一个页面，然后嵌套到 他那边APP去。但是由于是与APP对接，有些接口是需要在APP环境下开发才行，所以导致如果直接 浏览器运行，会报错。所以开发调试变得有点麻烦，要先跟大伟拿测试APP，在里面设置你这边运行的测试地址，然后将可以在app里面查看打印结果的\nVconsole，边开发边看Vconsole。")]),t._v(" "),e("p",[t._v("但是有些功能不需要跟APP对接的，倒是可以直接浏览器开发，npm install 之后，运行 npm run dev跑项目，然后询问后端一些必要参数，之后直接在运行之后的地址后面加上"),e("code",[t._v("?paperfk=354DD9C8DD08460A83BDA9A06D874B86&token=&recordfk=1e304d458a6a4fdc9afe029f912308b9&type=wjdc&isonline=3#/wjdc")]),e("br"),t._v("\n其中"),e("code",[t._v("paperfk")]),t._v("为问卷ID，"),e("code",[t._v("recordfk")]),t._v("为记录ID，"),e("code",[t._v("type")]),t._v("为页面类型，"),e("code",[t._v("isonline")]),t._v("为在线问卷还是离线；"),e("br"),t._v(" "),e("code",[t._v("token")]),t._v("为token验证，需要先请求登陆接口获取，这些参数全部由APP，也就是大伟那边提供的，所以就没将获取token写死，测试时可以手动直接打开\n"),e("code",[t._v("http://iotimc8888.goho.co:17783/sys/web/login.do?action=login&username=13712312312&password=XASR5G2454CW343C705E7141C9F793E")]),t._v("获取，这个登录地址是用花生壳外映射的，如果连不上了，跟韦华龙后端同事要下问卷服务器地址，自己改下")]),t._v(" "),e("p",[t._v("平时测试问卷ID"),e("br"),t._v("\n354DD9C8DD08460A83BDA9A06D874B86,刑罚执行完毕后未重新犯罪者"),e("br"),t._v("\nD64B236EA44046528699011C0258E9DE,初犯"),e("br"),t._v("\nB701AB0474BE475B8CF22E6152B9FC01,重犯")]),t._v(" "),e("p",[t._v("里面有些页面，是为了方便开发调试而弄得，到时候打包的时候，不需要打包发出去。只需要在"),e("code",[t._v("router/index.js")]),t._v("里面注释掉"),e("code",[t._v("isonline=3")]),t._v("的页面")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://cn.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue文档: https://cn.vuejs.org/"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://code.aliyun.com/iotimc_dev/APPProject.git",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码-git仓库: https://code.aliyun.com/iotimc_dev/APPProject.git"),e("OutboundLink")],1),t._v(" questionnaire目录")])]),t._v(" "),e("h2",{attrs:{id:"驿道app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#驿道app"}},[t._v("#")]),t._v(" 驿道APP")]),t._v(" "),e("p",[t._v("主要功能有有查询会见情况和记录以及审批会见申请、家属汇款和会见预约及查询记录功能等等,用于司法所的远程视频会见管理APP")]),t._v(" "),e("p",[t._v("主框架为 "),e("strong",[t._v("uni-app")]),t._v(" "),e("a",{attrs:{href:"https://uniapp.dcloud.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://uniapp.dcloud.io/"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"值班管理app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#值班管理app"}},[t._v("#")]),t._v(" 值班管理APP")]),t._v(" "),e("p",[e("img",{attrs:{src:"/iotimc/app-duty.png",alt:"值班管理APP"}})]),t._v(" "),e("h2",{attrs:{id:"信息速报app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#信息速报app"}},[t._v("#")]),t._v(" 信息速报APP")]),t._v(" "),e("p",[e("img",{attrs:{src:"/iotimc/app-infoReport.png",alt:"信息速报APP"}})]),t._v(" "),e("h2",{attrs:{id:"要情上报app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#要情上报app"}},[t._v("#")]),t._v(" 要情上报APP")]),t._v(" "),e("p",[e("img",{attrs:{src:"/iotimc/app-yaoqing.png",alt:"要情上报APP"}})]),t._v(" "),e("h3",{attrs:{id:"项目开发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目开发"}},[t._v("#")]),t._v(" 项目开发")]),t._v(" "),e("p",[t._v("以上三个项目"),e("code",[t._v("值班管理APP")]),t._v(" "),e("code",[t._v("信息速报APP")]),t._v(" "),e("code",[t._v("要情上报APP")]),t._v(" 用Hbuildx编辑器开发，使用uniapp框架搭建。")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://uniapp.dcloud.io/README",target:"_blank",rel:"noopener noreferrer"}},[t._v("uniapp: https://uniapp.dcloud.io/README"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://code.aliyun.com/iotimc-terminal/H5-APP.git",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码-git仓库: https://code.aliyun.com/iotimc-terminal/H5-APP.git"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"运行调试和打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行调试和打包"}},[t._v("#")]),t._v(" 运行调试和打包")]),t._v(" "),e("p",[t._v("先进行npm包安装，命令行运行 npm install")]),t._v(" "),e("h4",{attrs:{id:"调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[t._v("#")]),t._v(" 调试")]),t._v(" "),e("p",[t._v("在Hbuildx中打开该项目，点击菜单栏“运行” => “运行到浏览器” 就可以进行 谷歌浏览器调试（H5开发）\n在Hbuildx中打开该项目，点击菜单栏“运行” => “运行到手机或模拟器” 就可以进行 真机调试（APP开发）")]),t._v(" "),e("p",[t._v("需要注意的是，这几个APP是配合曾于伟那边的启动器运行的，打开之前会先进行他那边的数据获取，获取设备配置信息，比如服务器地址等。"),e("br"),t._v("\n启动器APP包放在该项目"),e("code",[t._v("apk")]),t._v("目录下，电脑连接终端或者话机之后，命令行运行"),e("code",[t._v("adb install 启动器apk绝对路径")]),t._v("安装之后打开进行配置。"),e("br"),t._v("\n如果没有获取到，为了个人调试方便，一旦获取不到数据，会有弹窗提醒，并且在右上角会有个设置图标，点击可手动配置服务器地址和设备唯一标识。")]),t._v(" "),e("h4",{attrs:{id:"打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包"}},[t._v("#")]),t._v(" 打包")]),t._v(" "),e("p",[t._v("调试或打包时，根据APP使用对应APP首页，将首页放于"),e("code",[t._v("pages.json")]),t._v("中"),e("code",[t._v("pages数组")]),t._v("的第一个元素，比如打包调试值班APP时，将 "),e("code",[t._v("pages/duty/duty")]),t._v("页面放于"),e("code",[t._v("pages数组")]),t._v("第一个元素。")]),t._v(" "),e("ul",[e("li",[t._v("值班管理APP首页："),e("code",[t._v("pages/duty/duty")])]),t._v(" "),e("li",[t._v("信息速报APP首页："),e("code",[t._v("pages/info-report/info-report")])]),t._v(" "),e("li",[t._v("要情上报APP首页："),e("code",[t._v("pages/yaoqing-record/yaoqing-record")])])]),t._v(" "),e("p",[t._v("打包根据不同APP，需要将APP配置"),e("code",[t._v("manifest.json")]),t._v("进行修改，比如需要用3个不同"),e("code",[t._v("APPID")]),t._v("作为区分，名称和版本也需要调整修改。启动图和APP图标配置也一样。")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://8.129.6.47:8090/iiw/iiw.familymeeting_remote/webapp/html/image1.png",alt:"基础配置"}})]),t._v(" "),e("p",[t._v("以上信息修改好之后，点击菜单栏“发行” => “云打包”")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://8.129.6.47:8090/iiw/iiw.familymeeting_remote/webapp/html/image2.png",alt:"云打包"}})])])}),[],!1,null,null,null);a.default=_.exports}}]);