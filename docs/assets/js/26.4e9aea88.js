(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{356:function(t,a,s){"use strict";s.r(a);var n=s(12),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"项目开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目开发"}},[t._v("#")]),t._v(" 项目开发")]),t._v(" "),s("p",[t._v("公司除了安防平台项目，还有很多其他的大小项目。")]),t._v(" "),s("h2",{attrs:{id:"安防平台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安防平台"}},[t._v("#")]),t._v(" 安防平台")]),t._v(" "),s("h3",{attrs:{id:"平时开发测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#平时开发测试"}},[t._v("#")]),t._v(" 平时开发测试")]),t._v(" "),s("blockquote",[s("p",[t._v("用webstorm开发")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/debug-webstorm.png",alt:"webstorm nodejs调试"}})]),t._v(" "),s("p",[t._v("欲了解更多信息，请百度")]),t._v(" "),s("blockquote",[s("p",[t._v("用vscode开发")])]),t._v(" "),s("p",[t._v("欲了解更多信息，请访问: "),s("a",{attrs:{href:"https://go.microsoft.com/fwlink/?linkid=830387",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://go.microsoft.com/fwlink/?linkid=830387"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-json5 extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json5"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 IntelliSense 了解相关属性。 ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 悬停以查看现有属性的描述。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ")]),s("span",{pre:!0,attrs:{class:"token property unquoted"}},[t._v("欲了解更多信息，请访问")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property unquoted"}},[t._v("https")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//go.microsoft.com/fwlink/?linkid=830387")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.2.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"configurations"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"launch"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hardware"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cwd"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\\\Users\\\\iotimc\\\\Desktop\\\\iotimc\\\\iiw.safe\\\\iiw.safe.hardware"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"program"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\\\Users\\\\iotimc\\\\Desktop\\\\iotimc\\\\iiwlib\\\\server.js"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"launch"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hardware.list"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cwd"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\\\Users\\\\iotimc\\\\Desktop\\\\iotimc\\\\iiw.safe\\\\iiw.safe.hardware\\\\modules\\\\iiw.safe.hardware.list"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"program"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\\\Users\\\\iotimc\\\\Desktop\\\\iotimc\\\\iiwlib\\\\server.js"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"在本机部署一套安防平台测试服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在本机部署一套安防平台测试服务"}},[t._v("#")]),t._v(" 在本机部署一套安防平台测试服务")]),t._v(" "),s("h3",{attrs:{id:"首先安装-oracle-数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#首先安装-oracle-数据库"}},[t._v("#")]),t._v(" 首先安装 oracle 数据库")]),t._v(" "),s("p",[t._v("首先在网上下载 oracle 软件包，以下介绍安装 oracle11g 安装教程")]),t._v(" "),s("ol",[s("li",[t._v("直接去"),s("code",[t._v("oracle")]),t._v("官网"),s("a",{attrs:{href:"http://www.oracle.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.oracle.com/"),s("OutboundLink")],1),t._v("进行相应版本下载，之后会有两个压缩包，下载完成后将两个文件解压到同一个目录下")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("路径名称最好不要出现中文和空格等不规则符号，否则之后可能出现不可预知的错误")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("解压缩文件，将两个压缩包解压到同一个文件夹中")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle11g.png",alt:"oracle11g安装包解压到同一目录"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("将其解压到同一个路径后，找到"),s("code",[t._v("database\\stage\\cvu\\cvu_prereq.xml")]),t._v("用文本打开编辑添加win10适配；")])]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("OPERATING_SYSTEM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("RELEASE")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("6.2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("VERSION")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("VALUE")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ARCHITECTURE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("VALUE")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("64-bit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("NAME")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("VALUE")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Windows 10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ENV_VAR_LIST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ENV_VAR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("NAME")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("PATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("MAX_LENGTH")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1023"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ENV_VAR_LIST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("OPERATING_SYSTEM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"/iotimc/oracle-setup1.png",alt:"添加win10适配"}})]),t._v(" "),s("p",[t._v("之后在解压文件夹中找到可执行文件【setup.exe】双击安装，配置安全更新操作，出现如下界面，点击下一步即可")]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-setup2.png",alt:"setup.exe"}})]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("选择安装方式，选择仅安装数据库软件，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-step4.png",alt:"选择仅安装数据库软件"}})]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[s("p",[t._v("网络安装选项、产品语言、数据库版本中三个步骤都默认选择即可，点击下一步")])]),t._v(" "),s("li",[s("p",[t._v("安装位置中的软件位置必须安装在D盘，在软件位置中输入安装路径（默认目录：D:\\oracle\\product\\11.2.0\\dbhome_1）")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-step6.png",alt:"安装位置中的软件位置必须安装在D盘"}})]),t._v(" "),s("ol",{attrs:{start:"7"}},[s("li",[s("p",[t._v("先决条件检查，等待检查完成查看安装环境是否允许安装，允许安装即会自动跳转至概要选项中")])]),t._v(" "),s("li",[s("p",[t._v("概要选项中，点击完成按钮开始安装，如下图所示")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-step8.png",alt:"概要选项中，点击完成按钮开始安装"}})]),t._v(" "),s("ol",{attrs:{start:"9"}},[s("li",[t._v("开始安装oracle程序，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-step9.png",alt:"开始安装oracle程序"}})]),t._v(" "),s("ol",{attrs:{start:"10"}},[s("li",[t._v("安装完成oracle程序，点击关闭即可。")])]),t._v(" "),s("h3",{attrs:{id:"安防平台服务管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安防平台服务管理"}},[t._v("#")]),t._v(" 安防平台服务管理")]),t._v(" "),s("ol",[s("li",[t._v("以系统管理员身份运行DOS命令行，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/services-step1.png",alt:"以系统管理员身份运行DOS命令行"}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("在命令行输入命令"),s("code",[t._v("lsnrctl start")]),t._v("中创建监听服务，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/services-step2.png",alt:"在命令行输入命令（lsnrctl start）中创建监听服务"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("创建成功后，打开系统服务（可运行"),s("code",[t._v("services.msc")]),t._v("打开服务），查看是否有"),s("code",[t._v("OracleOraDb11g_home1TNSListener")]),t._v("服务，成功的状态是已启动，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/services-step3.png",alt:"查看是否有服务"}})]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("把"),s("code",[t._v("OracleOraDb11g_home1TNSListener")]),t._v("服务的启动类型改成自动，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/services-step4.png",alt:"服务的启动类型改成自动"}})]),t._v(" "),s("h3",{attrs:{id:"创建oracle数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建oracle数据库"}},[t._v("#")]),t._v(" 创建oracle数据库")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("选择【开始】--\x3e【Oracle - OraDb11g_home1】--\x3e【配置和移植工具】--\x3e【Database Configuration Assistant】")])]),t._v(" "),s("li",[s("p",[t._v("开始创建数据库，如下图所示")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-create1.png",alt:"开始创建数据库"}}),t._v(" "),s("img",{attrs:{src:"/iotimc/oracle-create2.png",alt:"开始创建数据库"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("在数据库标识步骤中的全局数据库名必须为（IOTIMC），且必须大写")])]),t._v(" "),s("li",[s("p",[t._v("在数据库身份证明中选择所有账户使用统一管理口令，即密码（密码统一：imcsoft.12345）")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-create4.png",alt:"在数据库身份证明中选择所有账户使用统一管理口令"}})]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[s("p",[t._v("步骤6、7、8直接下一步")])]),t._v(" "),s("li",[s("p",[t._v("在初始化参数的内存项中选择默认典型类型即可，如下图所示")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-create9.png",alt:"在初始化参数的内存项中选择默认典型类型即可"}})]),t._v(" "),s("ol",{attrs:{start:"7"}},[s("li",[t._v("在初始化参数的字符集项中必须选择使用Unicode(AL32UTF8)模式，注：此项必须选择正确，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-create10.png",alt:"在初始化参数的字符集项中必须选择使用Unicode"}}),t._v(" "),s("img",{attrs:{src:"/iotimc/oracle-create11.png",alt:"数据库存储"}})]),t._v(" "),s("ol",{attrs:{start:"8"}},[s("li",[t._v("在创建选项中点击完成即开始创建，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-create12.png",alt:"在创建选项中点击完成即开始创建"}}),t._v(" "),s("img",{attrs:{src:"/iotimc/oracle-create13.png",alt:"确认开始创建数据库"}})]),t._v(" "),s("ol",{attrs:{start:"9"}},[s("li",[t._v("开始安装，等待安装完成，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-create14.png",alt:"等待安装完成"}})]),t._v(" "),s("ol",{attrs:{start:"10"}},[s("li",[t._v("在安装过程中会有个提示，点击【忽略】即可，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-create15.png",alt:"点击【忽略】即可"}})]),t._v(" "),s("ol",{attrs:{start:"11"}},[s("li",[t._v("在下一个步骤中也点击忽略即可，如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-create16.png",alt:"点击【忽略】即可"}})]),t._v(" "),s("ol",{attrs:{start:"12"}},[s("li",[s("p",[t._v("安装完成，点击退出按钮即可")])]),t._v(" "),s("li",[s("p",[t._v("打开系统服务，把其它服务都停止，启动类型都改成手动，只剩下以下两个服务并配置成自动即可，如下所示")])])]),t._v(" "),s("blockquote",[s("p",[t._v("OracleOraDb11g_home1TNSListener"),s("br"),t._v("\nOracleServcieIOTIMC")])]),t._v(" "),s("p",[t._v("至此数据库已安装完成。")]),t._v(" "),s("h3",{attrs:{id:"数据库卸载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库卸载"}},[t._v("#")]),t._v(" 数据库卸载")]),t._v(" "),s("blockquote",[s("p",[t._v("数据库删除")])]),t._v(" "),s("ol",[s("li",[t._v("选择【开始】--\x3e【Oracle - OraDb11g_home1】--\x3e【配置和移植工具】--\x3e【Database Configuration Assistant】，如下图所示")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("此操作会删除数据库中所有数据库数据，请谨慎操作。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-delete1.png",alt:"数据库删除"}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("在操作项中选择删除数据库，如下图所示：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-delete2.png",alt:"选择删除数据库"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("选择需要删除数据库、用户名（sys）、密码（imsoft.12345），此密码就是安装时的密码")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-delete3.png",alt:"选择需要删除的数据库"}})]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("点击完成按钮开始删除管理，如下图所示：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-delete4.png",alt:"点击完成按钮开始删除管理"}})]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("点击【否】即可完成删除操作，如下图所示：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-delete5.png",alt:"点击【否】即可完成删除操作"}})]),t._v(" "),s("p",[t._v("至此完成数据库的删除管理。")]),t._v(" "),s("blockquote",[s("p",[t._v("oracle 程序卸载")])]),t._v(" "),s("p",[t._v("需要完成所有数据库的删除管理后，才能按下面oracle步骤程序卸载。")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("选择【开始】--\x3e【Oracle - OraDb11g_home1】--\x3e【Oracle安装产品】--\x3e【Universal Installer】")])]),t._v(" "),s("li",[s("p",[t._v("在卸载管理中选择卸载产品，如下图所示：")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/oracle-uninstall1.png",alt:"oracle卸载"}}),t._v(" "),s("img",{attrs:{src:"/iotimc/oracle-uninstall2.png",alt:"oracle卸载"}}),t._v(" "),s("img",{attrs:{src:"/iotimc/oracle-uninstall3.png",alt:"oracle卸载"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("重新启动计算机，并手工删除 D:\\oracle目录即可完成整个oracle程序的卸载。")])]),t._v(" "),s("h3",{attrs:{id:"验证安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证安装"}},[t._v("#")]),t._v(" 验证安装")]),t._v(" "),s("blockquote",[s("p",[t._v("SQLPlus验证")])]),t._v(" "),s("p",[t._v("在命令行Dos下依次输入")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" oracle_sid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" IOTIMC\n\nsqlplus "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/ as sysdba"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" name from "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("v")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$database")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"/iotimc/SQLPlus.png",alt:"SQLPlus验证"}}),t._v("\n如上图所示，没有错误信息，表示验证成功！")]),t._v(" "),s("blockquote",[s("p",[t._v("SQLDeveloper工具验证")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("网上下载安装SQLDeveloper工具，之后打开SQLDevelpor工具，点击添加连接按钮弹出连接框")])]),t._v(" "),s("li",[s("p",[t._v("在连接框中输入连接信息，如下图所示")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/iotimc/SQLDeveloper1.png",alt:"SQLDeveloper工具验证"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("输入信息完成后，点击test按钮，查看以上Status:状态如何，如果是Success状态则说明连接成功")])]),t._v(" "),s("div",{attrs:{id:"createUserSql"}}),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("创建用户脚本.sql")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("-- ioticore\n--***********************创建表空间***************************\nCREATE SMALLFILE TABLESPACE IOTICORE DATAFILE "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IOTICORE.dbf'")]),t._v(" SIZE 1M AUTOEXTEND ON NEXT 1M MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n-- ***********************创建用户***************************\n-- "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" SQL\nCREATE "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" IOTICORE IDENTIFIED BY "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"imcsoft.12345"')]),t._v(" \nDEFAULT TABLESPACE IOTICORE\nTEMPORARY TABLESPACE TEMP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n-- ***********************分配角色***************************\nGRANT "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DBA"')]),t._v(" TO IOTICORE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nGRANT "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CONNECT"')]),t._v(" TO IOTICORE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nGRANT "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RESOURCE"')]),t._v(" TO IOTICORE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nALTER "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" IOTICORE DEFAULT ROLE "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DBA"')]),t._v(","),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CONNECT"')]),t._v(","),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RESOURCE"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nGRANT UNLIMITED TABLESPACE TO IOTICORE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nEXIT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"安防平台系统程序部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安防平台系统程序部署"}},[t._v("#")]),t._v(" 安防平台系统程序部署")]),t._v(" "),s("p",[t._v("以下以部署新疆乌鲁木齐安防平台测试服务器说明")]),t._v(" "),s("blockquote",[s("p",[t._v("安防数据库初始化")])]),t._v(" "),s("ol",[s("li",[t._v("将现场数据库数据导出，首先进入现场数据库处理空表问题，执行以下脚本")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("--由于oracle10是默认不导出空表,所以需修改它各表的配置,让它设置成非空\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alter table '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" owner "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("table_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' allocate extent;'")]),t._v(" from all_tables where owner like "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IOT%'")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("处理空表之后将数据全部导出到E盘备份目录下（也可导出到其他地方，改动下路径即可），打开DOS命令执行以下命令，之后耐心等待")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("exp ioticore/imcsoft.12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("E:/iotimc/backup/xj201910301530.dmp "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("full")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("y\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("拿到现场数据之后，导入到你要搭建的测试服务器中，先打开创建好的oracle IOTIMC数据库，执行以下脚本")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("--执行如下脚本,然后复制查询结果执行\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'drop table '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" table_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("';'")]),t._v(" from all_tables where owner "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IOTICORE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("打开DOS命令执行以下命令，命令中的路径为你在现场所拿到的现场数据dmp，如果不相同请修改，执行之后请耐心等待即可")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("imp ioticore/imcsoft.12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("E:/iotimc/backup/xj201910301530.dmp "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("full")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("y "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ignore")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Y\n")])])]),s("blockquote",[s("p",[t._v("安防源码程序部署")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("把部署程序IOTIMCSoft复制到D盘根目录")])]),t._v(" "),s("li",[s("p",[t._v("运行D:\\IOTIMCSoft\\virgo\\InstallVirgo.bat文件")])]),t._v(" "),s("li",[s("p",[t._v("服务中将会多IOTIMC Service Application一个（主服务）")])]),t._v(" "),s("li",[s("p",[t._v("运行D:\\IOTIMCSoft\\virgo-client\\InstallVirgo.bat文件")])]),t._v(" "),s("li",[s("p",[t._v("服务中将会多IOTIMC Client Service Application一个（分布式1），至于其他分布式服务也是如此操作")])])]),t._v(" "),s("p",[t._v("6、启动主服务IOTIMC Service Application，启动服务改为自动")]),t._v(" "),s("p",[t._v("7、进入D:\\IOTIMCSoft\\virgo\\wrapper\\logs\\wrapper.log，找到注册信息\n（DBA9DC590DE2317E881B8558A7191343.V2.0）填写注册申请表，等待注册key")]),t._v(" "),s("blockquote",[s("p",[t._v("修改安防系统配置文件")])]),t._v(" "),s("ol",[s("li",[t._v("用记事本或者notepad++ 打开"),s("code",[t._v("D:\\IOTIMCSoft\\virgo\\configuration\\ioticore-config.xml")])])]),t._v(" "),s("p",[t._v("将里面的ip全部改成你准备部署的电脑的ip即可")]),t._v(" "),s("p",[t._v("分布式服务下的"),s("code",[t._v("ioticore-config.xml")]),t._v("也是同样修改")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("iotimc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mq")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("mqname")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("192.168.11.27.server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("address")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("192.168.11.27"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("address")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("remote")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("delegate")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("9100"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("rmi")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ip")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("192.168.11.27"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("9111"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("remote")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("datasources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("oracle.jdbc.OracleDriver"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("driverUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("jdbc:oracle:thin:@192.168.11.27:1521:IOTIMC"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("driverUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ioticore"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("imcsoft.12345"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 提供客户端ioticore数据源 --\x3e")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("datasource")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jndiName")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ioticore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ioticore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("oracle.jdbc.OracleDriver"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("driverUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("jdbc:oracle:thin:@192.168.11.27:1521:IOTIMC"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("driverUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ioticore"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("imcsoft.12345"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("datasources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("log")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("level")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("appender")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("defaultFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("appender")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("defaultConsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("iotimc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("用记事本或者notepad++ 打开"),s("code",[t._v("D:\\IOTIMCSoft\\virgo\\configuration\\tomcat-server.xml")]),t._v("，修改网站端口")])]),t._v(" "),s("p",[t._v("一般为"),s("code",[t._v("第29行代码")]),t._v("，可将"),s("code",[t._v("8080")]),t._v("改为其他未使用端口")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Service")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Catalina"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--可将8080改为其他未使用端口--\x3e")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Connector")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("8080"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("HTTP/1.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("connectionTimeout")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("20000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("redirectPort")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("8443"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Connector")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("8443"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("HTTP/1.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("SSLEnabled")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("maxThreads")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("150"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("scheme")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("secure")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("clientAuth")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("false"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("sslProtocol")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("TLS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("keystoreFile")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("configuration/keystore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("keystorePass")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("changeit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("p",[t._v("拿到公司发给的key文件之后重命名为"),s("code",[t._v("reg.key")]),t._v("，之后覆盖掉"),s("code",[t._v("D:\\IOTIMCSoft\\virgo\\configuration")]),t._v("目录下的"),s("code",[t._v("reg.key")]),t._v("文件即可更新key。")]),t._v(" "),s("p",[t._v("至此，系统部署配置文件已完成，更新注册key；重启服务；即可运行系统。")]),t._v(" "),s("blockquote",[s("p",[t._v("部署多个安防平台测试环境")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("首先，创建新用户表空间，运行上面的"),s("a",{attrs:{href:"#createUserSql"}},[t._v("创建用户脚本")]),t._v("，不过要将"),s("code",[t._v("IOTICORE")]),t._v("全部替换成新的用户名，比如 乌鲁木齐可以改成"),s("code",[t._v("IMCWLMQ")])])]),t._v(" "),s("li",[s("p",[t._v("然后导入现场数据到"),s("code",[t._v("IMCWLMQ")]),t._v("表空间")])])]),t._v(" "),s("p",[t._v("防止有多个oracle的sid，需要提前指定 "),s("code",[t._v("set ORACLE_SID=iotimc")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ORACLE_SID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("iotimc\nimp imcwlmq/imcsoft.12345 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("E:/iotimc/backup/imcwlmq.dmp "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("full")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("y "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ignore")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Y\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("按照上面教程修改安防系统配置文件")])]),t._v(" "),s("p",[t._v("改ip，改端口9111要改，9100可以不用改，改数据库用户名"),s("code",[t._v("imcwlmq")]),t._v("，改tomcat-server端口")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("remote")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("delegate")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("9100"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("rmi")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ip")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("9111"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("remote")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("datasources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("datasource")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("druid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("oracle.jdbc.OracleDriver"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("driverUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("jdbc:oracle:thin:@192.168.1.166:1521:iotimc"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("driverUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("imcwlmq"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("imcsoft.12345"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("datasources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("修改服务名")])]),t._v(" "),s("p",[t._v("用记事本或者notepad++ 打开"),s("code",[t._v("D:\\IOTIMCSoft\\virgo\\wrapper\\conf\\virgo.conf")])]),t._v(" "),s("p",[t._v("第40行将"),s("code",[t._v("9797")]),t._v("加1"),s("br"),t._v(" "),s("code",[t._v("wrapper.java.additional.4=-Xrunjdwp:transport=dt_socket,suspend=n,address=9797,server=y")])]),t._v(" "),s("p",[t._v("第50行将"),s("code",[t._v("9875")]),t._v("加1"),s("br"),t._v(" "),s("code",[t._v("wrapper.java.additional.14=-Dcom.sun.management.jmxremote.port=9875")])]),t._v(" "),s("p",[t._v("将下面里面那几个服务名修改")]),t._v(" "),s("div",{staticClass:"language-markdown extra-class"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" Name of the service")]),t._v("\nwrapper.name=IOTIMCService\n\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" Display name of the service")]),t._v("\nwrapper.displayname=IOTIMC Service Application\n\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" Description of the service")]),t._v("\nwrapper.description=IOTIMC Service Application Description\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[t._v("运行"),s("code",[t._v("InstallVirgo.bat")]),t._v("文件，替换"),s("code",[t._v("reg.key")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("reg.key")]),t._v(" "),s("p",[t._v("同一台服务器多个安防平台测试环境均可用同个"),s("code",[t._v("reg.key")])])]),t._v(" "),s("h3",{attrs:{id:"安防平台更新说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安防平台更新说明"}},[t._v("#")]),t._v(" 安防平台更新说明")]),t._v(" "),s("blockquote",[s("p",[t._v("后端包更新")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("一般后端包名为"),s("code",[t._v("com.iotimc.security.device-1.0.0.jar")]),t._v("，一般存放在"),s("code",[t._v("virgo\\release\\security")]),t._v("，更新包时先将"),s("code",[t._v("原源码包")]),t._v("备份，然后再用"),s("code",[t._v("新更新包")]),t._v("替换。")])]),t._v(" "),s("li",[s("p",[t._v("接下来有两种方式，一种是直接重启服务进行更新，还有一种比较方便的刷包方式，就是直接打开"),s("code",[t._v("平台地址加 /admin")]),t._v("进入java包操作界面，账号一般为"),s("code",[t._v("admin")]),t._v("，密码为"),s("code",[t._v("springsource")])])]),t._v(" "),s("li",[s("p",[t._v("点击第二个选项"),s("code",[t._v("Artifacts")]),t._v("找到你要更新的更新包，然后先stop等待几秒，之后start几秒后refresh，然后就可以看接口效果，但是刷包并不是都能成功的，有时候会失败，那就只能选择重启服务吧。")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);